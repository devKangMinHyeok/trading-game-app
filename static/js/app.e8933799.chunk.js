(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{450:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return Vo}));var n,i,r,l,c,s,a,u,d,j,f,b,h,x,O,g,v,m,p,y,C,P,S,V,k,A,R,w,L,D,F,T=o(451),z=o(16),B=o(35),q=o(2),I=o(49),N=o(4),W={colors:{backgroundColor1:"#161A1E",backgroundColor2:"#1e2227ff",backgroundColor3:"#14161aff",baseTextColor:"#FFFFFF",toneDownTextColor:"#bebebe",positiveTextColor:"#32D993",negativeTextColor:"#F6465D",longButtonColor:"#32D993",longCandleColor:"#0ECB81",positivePriceColor:"#13B074",shortButtonColor:"#F6465D",shortCandleColor:"#F6465D",negativePriceColor:"#F6465D",longLiquidActiveLineColor:"#2be6ff",longLiquidInactiveLineColor:"#2be6ff8e",shortLiquidActiveLineColor:"#ee32ff",shortLiquidInactiveLineColor:"#ee32ff8c",crossHairLineColor:"#FFFFFF",openPriceLineColor:"#ffc56e",dayNumberBackgroundColor:"#18dcff",interestRateValueBackgroundColor:"#00d460",interestTurnLimitBackgroundColor:"#830094",remainTurnBoxBackgrounderColor:"#fa3636",LevelUpButtonBackgroundColor:"#00b052",CloseButtonBackgroundColor:"#ffffff",CloseButtonBackgroundColor2:"#f2b71c",nextTurnButtonBackgroundColor:"#6c17ff",resetButtonBackgroundColor:"#ff1616"},font:{bigValueFontSize:"16px",midiumValueFontSize:"14px",smallValueFontSize:"12px",bigRateFontSize:"14px",bigTextFontSize:"16px",midiumTextFontSize:"14px",smallTextFontSize:"12px",boldFontWeight:600,regularFontWeight:500,lightFontWeight:400}},M=I.default.get("window").width,E=N.default.create({display:{flex:1,backgroundColor:"#fff"},topAccount:{flexDirection:"row",flex:.4,gap:5,justifyContent:"center",alignItems:"flex-end",backgroundColor:W.colors.backgroundColor1},level:{flex:.25,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:W.colors.backgroundColor1},chart:{flex:1.6,justifyContent:"center",overflow:"hidden",backgroundColor:W.colors.backgroundColor1},middleAccount:{flex:.3,flexDirection:"row",justifyContent:"space-around",alignItems:"center",backgroundColor:W.colors.backgroundColor2},Info:{flex:1.2},closePanel:{width:.1*M},positionInfo:{width:.87*M,flexDirection:"row",justifyContent:"space-around",backgroundColor:W.colors.backgroundColor2},loanInfo:{padding:5,width:.2*M,backgroundColor:W.colors.backgroundColor3},controlPanel:{flex:1.4,backgroundColor:"pink",flexDirection:"row"},trade:{flex:7.5,backgroundColor:"grey"},shop:{flex:1.5,justifyContent:"center",alignItems:"center",backgroundColor:W.colors.backgroundColor1},rootControlButton:{flex:.6,backgroundColor:W.colors.backgroundColor2,flexDirection:"row"}}),H=o(0),G=new Date(2022,0,1),U=[{levelNumber:1,levelName:"\uc785\ubb38\uc790",randomGap:.04,stddev:1,transactionFeeRate:.04,color:"#ead600",loan:2e6,limitTurn:50},{levelNumber:2,levelName:"\ucf54\ub9b0\uc774",randomGap:.05,stddev:2,transactionFeeRate:.06,color:"#ff7e2e",loan:5e6,limitTurn:100},{levelNumber:3,levelName:"\ucd08\ubcf4\uc790",randomGap:.06,stddev:3,transactionFeeRate:.08,color:"#00dfb2",loan:1e7,limitTurn:300},{levelNumber:4,levelName:"\uc911\uae09\uc790",randomGap:.07,stddev:4,transactionFeeRate:.1,color:"#043efa",loan:1e8,limitTurn:500},{levelNumber:5,levelName:"\uc804\ubb38\uac00",randomGap:.08,stddev:5,transactionFeeRate:.12,color:"#ad00dd",loan:1e9,limitTurn:1e3},{levelNumber:6,levelName:"\uc608\uc5b8\uc790",randomGap:.09,stddev:6,transactionFeeRate:.2,color:"#ff0099",loan:5e9,limitTurn:1e3},{levelNumber:7,levelName:"\uc2e0",randomGap:.1,stddev:7,transactionFeeRate:.35,color:"#ffffff",loan:1e10,limitTurn:1e3}],J=[{label:"x1",value:1},{label:"x2",value:2},{label:"x3",value:3},{label:"x5",value:5},{label:"x10",value:10},{label:"x25",value:25},{label:"x50",value:50}],X=[{x:G,open:100,close:110,high:120,low:90},{x:new Date(2022,0,2),open:110,close:130,high:130,low:100},{x:new Date(2022,0,3),open:130,close:100,high:140,low:90},{x:new Date(2022,0,4),open:100,close:125,high:150,low:100},{x:new Date(2022,0,5),open:125,close:150,high:170,low:120},{x:new Date(2022,0,6),open:150,close:130,high:160,low:120},{x:new Date(2022,0,7),open:130,close:180,high:200,low:100},{x:new Date(2022,0,8),open:180,close:200,high:200,low:160},{x:new Date(2022,0,9),open:200,close:160,high:210,low:150},{x:new Date(2022,0,10),open:160,close:150,high:200,low:150},{x:new Date(2022,0,11),open:150,close:120,high:160,low:110},{x:new Date(2022,0,12),open:120,close:130,high:140,low:110},{x:new Date(2022,0,13),open:130,close:160,high:180,low:130},{x:new Date(2022,0,14),open:160,close:180,high:200,low:150},{x:new Date(2022,0,15),open:180,close:150,high:180,low:140}],Y=Object(z.atom)({key:"candleDataState",default:X}),K=Object(z.atom)({key:"turnNumberState",default:1}),Q=Object(z.selector)({key:"interestTurnNumberState",get:function(e){return 10-(0,e.get)(K)%10}}),Z=Object(z.selector)({key:"loanTurnNumberState",get:function(e){var t=e.get,o=t(K);return t(le).limitTurn-o}}),$=Object(z.atom)({key:"isLongControllerActiveState",default:!0}),_=Object(z.atom)({key:"isCandleMovingState",default:!1}),ee=Object(z.atom)({key:"lastClosePriceState",default:150}),te=Object(z.atom)({key:"lastOpenPriceState",default:180}),oe=(Object(z.atom)({key:"lastHighPriceState",default:180}),Object(z.atom)({key:"lastLowPriceState",default:140}),Object(z.atom)({key:"longLiquidState",default:0})),ne=Object(z.atom)({key:"shortLiquidState",default:0}),ie=Object(z.atom)({key:"accountState",default:1e6}),re=Object(z.atom)({key:"levelNumberState",default:1}),le=Object(z.selector)({key:"levelInfoState",get:function(e){var t=(0,e.get)(re);return U[t-1]}}),ce=Object(z.selector)({key:"interestPriceState",get:function(e){return 1e-4*(0,e.get)(le).loan}}),se=Object(z.selector)({key:"loanInfoState",get:function(e){var t=e.get,o=t(Q),n=(t(Z),t(ie)),i=t(ce),r=t(le),l=(r.loan,r.transactionFeeRate),c=t(de),s=t(be),a=n-i,u=i*(1+l*c.leverage/100),d=s.totalAsset-u;return{interest:{payAble:a>=0||d>=0,cashAble:a>=0,futureAble:d>=0,interestTurnNumber:o,cashRemain:a,futurePayFee:u}}}}),ae=Object(z.atom)({key:"longAccountState",default:{positionActive:!1,openPrice:0,liquidPrice:0,leverage:1,openPositionAmount:0,openPositionValue:0,currentPositionValue:0}}),ue=Object(z.atom)({key:"shortAccountState",default:{positionActive:!1,openPrice:0,liquidPrice:0,leverage:1,openPositionAmount:0,openPositionValue:0,currentPositionValue:0}}),de=Object(z.selector)({key:"futureActiveState",get:function(e){var t=e.get,o=t(ae),n=o.positionActive,i=o.leverage,r=t(ue),l=r.positionActive,c=r.leverage,s=n||l;return{futureActive:s,isLongActive:n,isShortActive:l,leverage:s?n?i:c:1}}}),je=Object(z.selector)({key:"longAccountDetailState",get:function(e){var t=(0,e.get)(ae),o=t.leverage*(t.currentPositionValue-t.openPositionValue);return{positionActive:t.positionActive,openPrice:t.openPrice,liquidPrice:t.liquidPrice,leverage:t.leverage,openPositionAmount:t.openPositionAmount,openPositionValue:t.openPositionValue,currentPositionValue:t.currentPositionValue,unrealizedPnl:o,profitRate:o/t.openPositionValue,totalAsset:o+t.openPositionValue,isPositive:o>0?"positive":o<0?"negative":"zero"}}}),fe=Object(z.selector)({key:"shortAccountDetailState",get:function(e){var t=(0,e.get)(ue),o=t.leverage*(t.openPositionValue-t.currentPositionValue);return{positionActive:t.positionActive,openPrice:t.openPrice,liquidPrice:t.liquidPrice,leverage:t.leverage,openPositionAmount:t.openPositionAmount,openPositionValue:t.openPositionValue,currentPositionValue:t.currentPositionValue,unrealizedPnl:o,profitRate:o/t.openPositionValue,totalAsset:o+t.openPositionValue,isPositive:o>0?"positive":o<0?"negative":"zero"}}}),be=Object(z.selector)({key:"futureAccountState",get:function(e){var t=e.get,o=t(je),n=t(fe),i=o.openPositionValue+n.openPositionValue,r=o.currentPositionValue+n.currentPositionValue,l=o.unrealizedPnl+n.unrealizedPnl;return{positionActive:o.positionActive||n.positionActive,openPositionValue:i,currentPositionValue:r,unrealizedPnl:l,profitRate:l/i,totalAsset:l+i,isPositive:l>0?"positive":l<0?"negative":"zero"}}}),he=Object(z.selector)({key:"totalAccountState",get:function(e){var t=e.get,o=t(ie),n=t(be),i=n.openPositionValue+o,r=o+n.totalAsset,l=r-i,c=r-1e6;return{cash:o,futureValuation:n.totalAsset,totalAsset:r,unrealizedPnl:l,profitRate:l/i,isPositive:c>0?"positive":c<0?"negative":"zero"}}}),xe=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},Oe=o(39),ge=o.n(Oe),ve=B.default.Text(n||(n=ge()(["\n  color: ",";\n"])),(function(e){return e.theme.colors.baseTextColor})),me=Object(B.default)(ve)(i||(i=ge()(["\n  font-size: ",";\n"])),(function(e){return e.theme.font.midiumTextFontSize})),pe=Object(B.default)(ve)(r||(r=ge()(["\n  font-size: ",";\n  color: ",";\n"])),(function(e){return e.theme.font.bigValueFontSize}),(function(e){return"positive"==e.isPositive?e.theme.colors.positiveTextColor:"negative"==e.isPositive?e.theme.colors.negativeTextColor:e.theme.colors.baseTextColor})),ye=Object(B.default)(ve)(l||(l=ge()(["\n  font-size: ",";\n  color: ",";\n"])),(function(e){return e.theme.font.bigRateFontSize}),(function(e){return"positive"==e.isPositive?e.theme.colors.positiveTextColor:"negative"==e.isPositive?e.theme.colors.negativeTextColor:e.theme.colors.baseTextColor})),Ce=Object(B.default)(ve)(c||(c=ge()(['\n  color: "black";\n  font-size: ',";\n"])),(function(e){return e.theme.font.midiumTextFontSize})),Pe=Object(B.default)(ve)(s||(s=ge()(["\n  font-size: ",";\n"])),(function(e){return e.theme.font.midiumValueFontSize})),Se=Object(B.default)(ve)(a||(a=ge()(["\n  font-size: ",";\n"])),(function(e){return e.theme.font.smallValueFontSize})),Ve=Object(B.default)(ve)(u||(u=ge()(["\n  font-size: ",";\n"])),(function(e){return e.theme.font.midiumTextFontSize})),ke=Object(B.default)(ve)(d||(d=ge()(["\n  color: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.colors.toneDownTextColor}),(function(e){return e.theme.font.smallTextFontSize})),Ae=Object(B.default)(ve)(j||(j=ge()(["\n  color: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.colors.baseTextColor}),(function(e){return e.theme.font.bigValueFontSize})),Re=Object(B.default)(ve)(f||(f=ge()(["\n  background-color: ",";\n  font-size: ",";\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.isLong?e.theme.colors.positiveTextColor:e.theme.colors.negativeTextColor}),(function(e){return e.theme.font.midiumTextFontSize})),we=Object(B.default)(ve)(b||(b=ge()(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  margin-left: 5px;\n"])),(function(e){return e.isLong?e.theme.colors.positiveTextColor:e.theme.colors.negativeTextColor}),(function(e){return e.theme.font.bigValueFontSize}),(function(e){return e.theme.font.boldFontWeight})),Le=Object(B.default)(ve)(h||(h=ge()(["\n  color: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.colors.toneDownTextColor}),(function(e){return e.theme.font.smallTextFontSize})),De=Object(B.default)(ve)(x||(x=ge()(["\n  font-size: ",";\n"])),(function(e){return e.theme.font.midiumValueFontSize})),Fe=Object(B.default)(De)(O||(O=ge()(["\n  color: ",";\n"])),(function(e){return e.isLong?e.theme.colors.longLiquidActiveLineColor:e.theme.colors.shortLiquidActiveLineColor})),Te=Object(B.default)(De)(g||(g=ge()(["\n  color: ",";\n"])),(function(e){return e.theme.colors.openPriceLineColor})),ze=Object(B.default)(Le)(v||(v=ge()([""]))),Be=Object(B.default)(De)(m||(m=ge()(["\n  color: ",";\n"])),(function(e){return"positive"==e.isPositive?e.theme.colors.positiveTextColor:"negative"==e.isPositive?e.theme.colors.negativeTextColor:e.theme.colors.baseTextColor})),qe=Object(B.default)(ve)(p||(p=ge()(["\n  /* color: ",'; */\n  color: "black";\n  font-weight: ',";\n"])),(function(e){return e.isLong?e.theme.colors.positiveTextColor:e.theme.colors.negativeTextColor}),(function(e){return e.theme.font.boldFontWeight})),Ie=Object(B.default)(ve)(y||(y=ge()(["\n  font-weight: ",";\n"])),(function(e){return e.theme.font.boldFontWeight})),Ne=Object(B.default)(ve)(C||(C=ge()(["\n  background-color: ",";\n  padding: 1px;\n  font-size: ",';\n  color: "black";\n'])),(function(e){return e.theme.colors.dayNumberBackgroundColor}),(function(e){return e.theme.font.midiumTextFontSize})),We=Object(B.default)(Le)(P||(P=ge()([""]))),Me=Object(B.default)(ve)(S||(S=ge()(["\n  font-size: ",";\n"])),(function(e){return e.theme.font.smallTextFontSize})),Ee=Object(B.default)(ve)(V||(V=ge()(["\n  background-color: ",";\n  font-size: ",";\n  padding: 1px;\n"])),(function(e){return e.theme.colors.interestTurnLimitBackgroundColor}),(function(e){return e.theme.font.smallTextFontSize})),He=Object(B.default)(ve)(k||(k=ge()(["\n  background-color: ",";\n  padding: 1px;\n  font-size: ",";\n"])),(function(e){return e.theme.colors.remainTurnBoxBackgrounderColor}),(function(e){return e.theme.font.smallTextFontSize})),Ge=Object(B.default)(ve)(A||(A=ge()(["\n  font-size: ",";\n  color: ",";\n"])),(function(e){return e.theme.font.smallTextFontSize}),(function(e){return e.theme.colors.toneDownTextColor})),Ue=Object(B.default)(ve)(R||(R=ge()(["\n  font-size: ",";\n"])),(function(e){return e.theme.font.midiumValueFontSize})),Je=Object(B.default)(Ue)(w||(w=ge()(["\n  color: ",";\n"])),(function(e){return e.isLong?e.theme.colors.longLiquidActiveLineColor:e.theme.colors.shortLiquidActiveLineColor})),Xe=Object(B.default)(ve)(L||(L=ge()(["\n  /* color: ","; */\n  font-weight: ",";\n"])),(function(e){return e.isLong?e.theme.colors.positiveTextColor:e.theme.colors.negativeTextColor}),(function(e){return e.theme.font.boldFontWeight})),Ye=Object(B.default)(ve)(D||(D=ge()(["\n  font-size: ",";\n  font-weight: ",";\n"])),(function(e){return e.theme.font.bigTextFontSize}),(function(e){return e.theme.font.boldFontWeight})),Ke=Object(B.default)(ve)(F||(F=ge()(["\n  font-size: ",";\n  font-weight: ",";\n"])),(function(e){return e.theme.font.bigTextFontSize}),(function(e){return e.theme.font.boldFontWeight})),Qe=o(3);var Ze=Object(H.memo)((function(){var e=Object(z.useRecoilValue)(he);return Object(Qe.jsxs)(q.default,{style:E.middleAccount,children:[Object(Qe.jsxs)(q.default,{style:{flex:1,padding:10},children:[Object(Qe.jsx)(ke,{children:"\uc120\ubb3c "}),Object(Qe.jsxs)(Ae,{children:[xe(Math.ceil(e.futureValuation)),"\uc6d0"]})]}),Object(Qe.jsxs)(q.default,{style:{flex:1,padding:10},children:[Object(Qe.jsx)(ke,{children:"\ud604\uae08 "}),Object(Qe.jsxs)(Ae,{children:[xe(Math.ceil(e.cash)),"\uc6d0"]})]})]})}));var $e=Object(H.memo)((function(){var e=Object(z.useRecoilValue)(he);return Object(Qe.jsxs)(q.default,{style:E.topAccount,children:[Object(Qe.jsx)(q.default,{style:{flex:1,alignItems:"flex-end"},children:Object(Qe.jsx)(me,{children:"\ucd1d \ubcf4\uc720\uc790\uc0b0 | "})}),Object(Qe.jsxs)(q.default,{style:{flex:2.3,flexDirection:"row",alignItems:"flex-end"},children:[Object(Qe.jsxs)(pe,{isPositive:e.isPositive,children:[xe(Math.ceil(e.totalAsset)),"\uc6d0"," "]}),Object(Qe.jsxs)(ye,{isPositive:e.isPositive,children:[((e.totalAsset-1e6)/1e6*100).toFixed(2),"%"]})]})]})})),_e=o(55),et=o.n(_e),tt=o(21),ot=o.n(tt),nt=o(82),it=o(752),rt=o(747),lt=o(273),ct=o(454),st=o(753),at=o(755),ut=o(756),dt=function(e,t){var o=new Date(e);return o.setDate(o.getDate()+t),o},jt=null;function ft(){var e,t,o,n,i;if(null!==jt)e=jt,jt=null;else{do{n=(t=2*Math.random()-1)*t+(o=2*Math.random()-1)*o}while(0===n||n>=1);e=t*(i=Math.sqrt(-2*Math.log(n)/n)),jt=o*i}return e}function bt(e,t){var o=ft();return o=o*t+e}var ht=function(e,t,o,n){return function(e,t,o,n){var i;do{i=bt(e,t)}while(i<o||i>n);return i}(e,t,o,n)},xt=function(e,t,o){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.05,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r={x:e,open:t,high:t,low:t,close:t},l=[r],c=0;c<o;c++){var s=Object(nt.cloneDeep)(r),a=s.close*ht(1,i,1-n,1+n),u=s.high<a?a:s.high,d=s.low>a?a:s.low;s.close=a,s.high=u,s.low=d,r=s,l.push(s)}return l},Ot={fontSize:W.font.smallValueFontSize,fill:W.colors.baseTextColor};var gt=function(){var e=Object(z.useRecoilValue)(K),t=Object(z.useRecoilValue)(le),o=Object(z.useRecoilState)(Y),n=ot()(o,2),i=n[0],r=n[1],l=Object(z.useRecoilState)(_),c=ot()(l,2),s=(c[0],c[1]),a=Object(z.useRecoilState)(ee),u=ot()(a,2),d=u[0],j=u[1],f=Object(z.useRecoilState)(te),b=ot()(f,2),h=b[0],x=b[1],O=Object(z.useRecoilState)(ae),g=ot()(O,2),v=(g[0],g[1]),m=Object(z.useRecoilState)(ue),p=ot()(m,2),y=(p[0],p[1]),C=Object(z.useRecoilValue)(je),P=Object(z.useRecoilValue)(fe),S=Object(z.useResetRecoilState)(ae),V=Object(z.useResetRecoilState)(ue),k=Object(z.useRecoilState)(oe),A=ot()(k,2),R=A[0],w=(A[1],Object(z.useRecoilState)(ne)),L=ot()(w,2),D=L[0],F=(L[1],Object(H.useState)([new Date(2022,0,1),new Date(2022,0,15)])),T=ot()(F,2),B=T[0],I=T[1],N=Object(H.useState)([75,195]),E=ot()(N,2),G=E[0],U=E[1],J=Object(H.useCallback)((function(e,t,o){return setTimeout((function(){r((function(t){var o=et()(t);return o.slice(-1)[0].x.toString()==e.x.toString()?o[o.length-1]=e:(o.push(e),o.length>25&&o.shift()),o})),j(e.close),C.positionActive&&(v((function(t){var o=Object(nt.cloneDeep)(t);return o.currentPositionValue=e.close*o.openPositionAmount,o})),C.liquidPrice>=e.low&&S()),P.positionActive&&(y((function(t){var o=Object(nt.cloneDeep)(t);return o.currentPositionValue=e.close*o.openPositionAmount,o})),P.liquidPrice<=e.high&&V()),t===o&&s(!1)}),200*t)}),[C,P]);return Object(H.useEffect)((function(){if(e>1){var o=[],n=i.slice(-1)[0].x,r=dt(new Date(n),1),l=i.slice(-1)[0].close,c=xt(r,l,20,t.randomGap,t.stddev);x(c[0].open);for(var s=0;s<c.length;s++){var a=c[s];o.push(J(a,s,c.length-1))}return function(){o.forEach((function(e){return clearTimeout(e)}))}}}),[e]),Object(H.useEffect)((function(){var e=i.slice(-25),t=e[0].x,o=new Date(t);o.setDate(t.getDate()+25),I([t,o]);var n=1e10,r=0;e.forEach((function(e){e.low<n&&(n=e.low),e.high>r&&(r=e.high)})),U([n-15,r+15])}),[i]),Object(Qe.jsx)(q.default,{children:Object(Qe.jsxs)(it.VictoryChart,{width:M,domainPadding:{x:15},containerComponent:Object(Qe.jsx)(rt.VictoryCursorContainer,{cursorLabel:function(e){var t=e.datum;return"            "+Object(nt.round)(t.y,1)},cursorComponent:Object(Qe.jsx)(lt.Line,{style:{stroke:W.colors.crossHairLineColor,strokeWidth:1}}),cursorLabelComponent:Object(Qe.jsx)(ct.VictoryLabel,{style:{fill:W.colors.baseTextColor,fontSize:W.font.smallValueFontSize}})}),style:{parent:{backgroundColor:"transparent"},background:{fill:W.colors.backgroundColor1}},children:[Object(Qe.jsx)(st.VictoryAxis,{dependentAxis:!0,offsetX:50,orientation:"right",style:{grid:{stroke:"#b6b6b6",strokeWidth:.5},tickLabels:{fill:W.colors.baseTextColor,fontSize:14}}}),Object(Qe.jsx)(at.default,{candleWidth:8,style:{data:{strokeWidth:1,stroke:function(e){return e.close<e.open?W.colors.longCandleColor:W.colors.shortCandleColor}}},candleColors:{positive:W.colors.longCandleColor,negative:W.colors.shortCandleColor},data:i,domain:{x:B,y:G}}),Object(Qe.jsx)(ct.VictoryLabel,{text:d.toFixed(1),datum:{x:dt(new Date(B[1]),4),y:d+5},textAnchor:"end",style:Ot,backgroundPadding:[{left:5,right:3,top:3,bottom:3}],backgroundStyle:[{fill:d>h?W.colors.longCandleColor:W.colors.shortCandleColor,opacity:.98}]}),Object(Qe.jsx)(ut.VictoryLine,{domain:{x:B,y:G},y:function(){return d},style:{data:{stroke:function(e){return d>h?W.colors.longCandleColor:W.colors.shortCandleColor},strokeWidth:1.5,strokeDasharray:1}}}),C.positionActive?Object(Qe.jsx)(ct.VictoryLabel,{text:"\uccad\uc0b0\uac00",datum:{x:dt(new Date(B[0]),-2),y:C.liquidPrice},textAnchor:"end",style:Ot}):Object(Qe.jsx)(ct.VictoryLabel,{text:"\uccad\uc0b0\uac00",datum:{x:dt(new Date(B[0]),-2),y:R},textAnchor:"end",style:Ot}),C.positionActive?Object(Qe.jsx)(ut.VictoryLine,{domain:{x:B,y:G},y:function(){return C.liquidPrice},style:{data:{stroke:W.colors.longLiquidActiveLineColor,strokeWidth:1.5}}}):Object(Qe.jsx)(ut.VictoryLine,{domain:{x:B,y:G},y:function(){return R},style:{data:{stroke:W.colors.longLiquidInactiveLineColor,strokeWidth:1.5}}}),P.positionActive?Object(Qe.jsx)(ct.VictoryLabel,{text:"\uccad\uc0b0\uac00",datum:{x:dt(new Date(B[0]),-2),y:P.liquidPrice},textAnchor:"end",style:Ot}):Object(Qe.jsx)(ct.VictoryLabel,{text:"\uccad\uc0b0\uac00",datum:{x:dt(new Date(B[0]),-2),y:D},textAnchor:"end",style:Ot}),P.positionActive?Object(Qe.jsx)(ut.VictoryLine,{domain:{x:B,y:G},y:function(){return P.liquidPrice},style:{data:{stroke:W.colors.shortLiquidActiveLineColor,strokeWidth:1.5}}}):Object(Qe.jsx)(ut.VictoryLine,{domain:{x:B,y:G},y:function(){return D},style:{data:{stroke:W.colors.shortLiquidInactiveLineColor,strokeWidth:1.5}}}),C.positionActive?Object(Qe.jsx)(ct.VictoryLabel,{text:"\ud3c9\ub2e8\uac00",datum:{x:dt(new Date(B[0]),-2),y:C.openPrice},textAnchor:"end",style:Ot}):null,C.positionActive?Object(Qe.jsx)(ut.VictoryLine,{domain:{x:B,y:G},y:function(){return C.openPrice},style:{data:{stroke:W.colors.openPriceLineColor,strokeWidth:1.5,strokeDasharray:1.5}}}):null,P.positionActive?Object(Qe.jsx)(ct.VictoryLabel,{text:"\ud3c9\ub2e8\uac00",datum:{x:dt(new Date(B[0]),-2),y:P.openPrice},textAnchor:"end",style:Ot}):null,P.positionActive?Object(Qe.jsx)(ut.VictoryLine,{domain:{x:B,y:G},y:function(){return P.openPrice},style:{data:{stroke:W.colors.openPriceLineColor,strokeWidth:1.5,strokeDasharray:1.5}}}):null]})})};var vt=function(){return Object(Qe.jsx)(q.default,{style:E.chart,children:Object(Qe.jsx)(gt,{})})};var mt=function(){return Object(Qe.jsxs)(q.default,{style:E.shop,children:[Object(Qe.jsx)(ve,{children:"Shop"}),Object(Qe.jsx)(ve,{children:"(\uc900\ube44\uc911)"})]})},pt=o(48),yt=o(135),Ct=function(e,t,o,n,i){return N.default.create({container:{backgroundColor:"transparent",width:"100%",height:"100%",flexDirection:"row",opacity:e?.5:1},box:{flex:1,backgroundColor:"transprent",borderWidth:1,borderStyle:"solid",borderColor:t===i?o:n,alignItems:"center",justifyContent:"center"}})},Pt=function(e,t,o,n,i){return N.default.create({text:{color:t===i?o:n}})};var St=Object(H.memo)((function(e){var t=e.options,o=e.value,n=e.setValueFunction,i=e.disabled,r=e.selectedColor,l=void 0===r?"#32D993":r,c=e.nonSelectedColor,s=void 0===c?"#bebebe":c;return Object(Qe.jsx)(q.default,{style:Ct(i).container,children:t.map((function(e,t){return Object(Qe.jsx)(yt.default,{onPress:function(t){return o=e.value,void n(o);var o},style:Ct(i,o,l,s,e.value).box,disabled:i,children:Object(Qe.jsx)(pt.default,{style:Pt(0,o,l,s,e.value).text,children:e.label})},t)}))})})),Vt=function(){var e=Object(H.useState)({width:0,height:0,x:0,y:0}),t=ot()(e,2),o=t[0],n=t[1];return{size:o,onLayout:Object(H.useCallback)((function(e){var t=e.nativeEvent.layout,o=t.width,i=t.height,r=t.x,l=t.y;n({width:o,height:i,x:r,y:l})}),[])}},kt=o(452);var At=Object(H.memo)((function(e){var t=e.parentSize,o=e.isLongSelected,n=e.amountRate,i=e.setAmountRate;return Object(Qe.jsxs)(q.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-around"},children:[Object(Qe.jsx)(kt.default,{sliderLength:.8*t.width||200,values:[n],onValuesChange:function(e){i(e[0])},min:0,max:101,step:5,snapped:!0,markerStyle:{width:18,height:18,backgroundColor:o?W.colors.longButtonColor:W.colors.shortButtonColor},selectedStyle:{backgroundColor:o?W.colors.longButtonColor:W.colors.shortButtonColor},trackStyle:{backgroundColor:W.colors.toneDownTextColor}}),Object(Qe.jsxs)(Ge,{children:[" ",n,"%"]})]})}));var Rt=Object(H.memo)((function(e){var t=e.coinAmount;return Object(Qe.jsxs)(q.default,{style:{flexDirection:"row",alignItems:"center"},children:[Object(Qe.jsx)(Ge,{children:"\uac1c\uc218 | "}),Object(Qe.jsx)(Ue,{children:xe(t)})]})}));var wt=Object(H.memo)((function(e){var t=e.isLongSelected,o=e.activeLeverage,n=e.leverage,i=e.setLeverage,r=e.disabled;return Object(Qe.jsx)(q.default,{style:{width:"100%",height:"100%"},children:Object(Qe.jsx)(q.default,{style:{marginTop:10},children:Object(Qe.jsx)(St,{options:J,value:o||n,setValueFunction:i,disabled:r,selectedColor:t?W.colors.longButtonColor:W.colors.shortButtonColor,nonSelectedColor:W.colors.toneDownTextColor})})})}));var Lt=Object(H.memo)((function(e){var t=e.isLongSelected,o=e.longLiquid,n=e.shortLiquid;return Object(Qe.jsxs)(q.default,{style:{flexDirection:"row",alignItems:"center"},children:[Object(Qe.jsx)(Ge,{children:"\uccad\uc0b0\uac00 "}),Object(Qe.jsx)(Je,{isLong:t,children:xe(t?Math.ceil(o):Math.ceil(n))})]})}));var Dt,Ft,Tt,zt,Bt,qt,It=Object(H.memo)((function(e){var t=e.totalPrice;return Object(Qe.jsxs)(q.default,{style:{flexDirection:"row",alignItems:"center"},children:[Object(Qe.jsx)(Ge,{children:"\uc8fc\ubb38\ucd1d\uc561 | "}),Object(Qe.jsxs)(Ue,{children:[xe(Math.ceil(t)),"\uc6d0"]})]})})),Nt=B.default.TouchableOpacity(Dt||(Dt=ge()(["\n  background-color: ",";\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n"])),(function(e){return e.theme.colors.CloseButtonBackgroundColor})),Wt=Object(B.default)(Nt)(Ft||(Ft=ge()(["\n  background-color: ",";\n  opacity: ",";\n  width: 85%;\n  height: 85%;\n"])),(function(e){return e.theme.colors.LevelUpButtonBackgroundColor}),(function(e){return e.disabled?.4:1})),Mt=Object(B.default)(Nt)(Tt||(Tt=ge()(["\n  background-color: ",";\n  width: 100%;\n  height: 100%;\n"])),(function(e){return e.theme.colors.CloseButtonBackgroundColor2})),Et=Object(B.default)(Nt)(zt||(zt=ge()(["\n  background-color: ",";\n  width: 80%;\n  height: 90%;\n"])),(function(e){return e.isLong?e.theme.colors.longButtonColor:e.theme.colors.shortButtonColor})),Ht=Object(B.default)(Nt)(Bt||(Bt=ge()(["\n  background-color: ",";\n  width: 80%;\n  height: 40%;\n"])),(function(e){return e.theme.colors.resetButtonBackgroundColor})),Gt=Object(B.default)(Nt)(qt||(qt=ge()(["\n  background-color: ",";\n  width: 80%;\n  height: 40%;\n"])),(function(e){return e.theme.colors.nextTurnButtonBackgroundColor}));var Ut=Object(H.memo)((function(e){var t=e.isCandleMoving,o=e.buttonHandler,n=e.isBuy;return Object(Qe.jsx)(Et,{isLong:n,onPress:o,disabled:t,children:Object(Qe.jsx)(Xe,{isLong:n,children:n?"BUY / \ub871":"Sell / \uc20f"})})}));var Jt=Object(H.memo)((function(e){var t=e.transactionFee,o=Object(z.useRecoilValue)(le);return Object(Qe.jsxs)(q.default,{style:{flexDirection:"row",alignItems:"center"},children:[Object(Qe.jsx)(Ge,{children:"\uc218\uc218\ub8cc\uc728 "}),Object(Qe.jsxs)(Ue,{style:{color:o.color},children:[t,"%"]})]})}));var Xt=function(e){var t=e.disabled,o=e.activeLeverage,n=Object(z.useRecoilValue)(le),i=Object(z.useRecoilState)(ie),r=ot()(i,2),l=r[0],c=r[1],s=Object(z.useRecoilState)(oe),a=ot()(s,2),u=a[0],d=a[1],j=Object(z.useRecoilState)(ne),f=ot()(j,2),b=f[0],h=f[1],x=Object(z.useRecoilValue)(ee),O=Object(z.useRecoilState)(ae),g=ot()(O,2),v=(g[0],g[1]),m=Object(z.useRecoilState)(ue),p=ot()(m,2),y=(p[0],p[1]),C=Object(z.useRecoilValue)(je),P=Object(z.useRecoilValue)(fe),S=Object(z.useRecoilValue)(_),V=Object(z.useRecoilValue)($),k=Object(H.useState)(1),A=ot()(k,2),R=A[0],w=A[1],L=Object(H.useState)(0),D=ot()(L,2),F=D[0],T=D[1],B=Object(H.useState)(0),I=ot()(B,2),N=I[0],W=I[1],M=Object(H.useState)(0),E=ot()(M,2),G=E[0],U=E[1],J=Vt(),X=J.size,Y=J.onLayout,K=Object(H.useCallback)((function(){if(V&&!S){if(P.positionActive)alert("Long \ud3ec\uc9c0\uc158\uacfc Short \ud3ec\uc9c0\uc158\uc744 \ub3d9\uc2dc\uc5d0 \ubcf4\uc720\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");else if(!C.positionActive&&G>0){c((function(e){return e-N})),v({positionActive:!0,openPrice:x,liquidPrice:u,leverage:R,openPositionValue:x*G,openPositionAmount:G,currentPositionValue:x*G})}else C.positionActive&&G>0?(c((function(e){return e-N})),v((function(e){var t=Object(nt.cloneDeep)(e),o=x*G;return t.openPrice=(t.openPrice*t.openPositionAmount+o)/(t.openPositionAmount+G),t.openPositionAmount=t.openPositionAmount+G,t.openPositionValue=t.openPositionValue+o,t.currentPositionValue=t.currentPositionValue+o,t.liquidPrice=t.openPrice*(1-1/t.leverage),t}))):0===G&&alert("0\uac1c\ub294 \uc8fc\ubb38\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");T(0)}}),[V,S,C,N,G]),Q=Object(H.useCallback)((function(){if(!V&&!S){if(C.positionActive)alert("Long \ud3ec\uc9c0\uc158\uacfc Short \ud3ec\uc9c0\uc158\uc744 \ub3d9\uc2dc\uc5d0 \ubcf4\uc720\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");else if(!P.positionActive&&G>0){c((function(e){return e-N})),y({positionActive:!0,openPrice:x,liquidPrice:b,leverage:R,openPositionValue:x*G,openPositionAmount:G,currentPositionValue:x*G})}else P.positionActive&&G>0?(c((function(e){return e-N})),y((function(e){var t=Object(nt.cloneDeep)(e),o=x*G;return t.openPrice=(t.openPrice*t.openPositionAmount+o)/(t.openPositionAmount+G),t.openPositionAmount=t.openPositionAmount+G,t.openPositionValue=t.openPositionValue+o,t.currentPositionValue=t.currentPositionValue+o,t.liquidPrice=t.openPrice*(1+1/t.leverage),t}))):0===G&&alert("0\uac1c\ub294 \uc8fc\ubb38\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");T(0)}}),[V,S,P,N,G]);return Object(H.useEffect)((function(){var e=l*F/100,t=Math.floor(e/(x*(1+n.transactionFeeRate/100*R)));U(t)}),[F,R]),Object(H.useEffect)((function(){W(x*G*(1+n.transactionFeeRate/100*R))}),[x,G]),Object(H.useEffect)((function(){return S?(d(0),h(0)):V?d(x*(1-1/R)):h(x*(1+1/R)),function(){d(0),h(0)}}),[x,R,S,V]),Object(H.useEffect)((function(){S&&T(0)}),[S]),Object(Qe.jsxs)(q.default,{style:{height:"100%",width:"100%"},onLayout:Y,children:[Object(Qe.jsx)(q.default,{style:{flex:1.2},children:Object(Qe.jsx)(wt,{isLongSelected:V,activeLeverage:o,leverage:R,setLeverage:w,disabled:t})}),Object(Qe.jsxs)(q.default,{style:{flex:1.5,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(Qe.jsxs)(q.default,{style:{height:"100%",flex:2,justifyContent:"space-evenly"},children:[Object(Qe.jsx)(It,{totalPrice:N}),Object(Qe.jsx)(Rt,{coinAmount:G})]}),Object(Qe.jsxs)(q.default,{style:{height:"100%",flex:1,justifyContent:"space-evenly"},children:[Object(Qe.jsx)(Lt,{isLongSelected:V,longLiquid:u,shortLiquid:b}),Object(Qe.jsx)(Jt,{transactionFee:n.transactionFeeRate})]})]}),Object(Qe.jsx)(q.default,{style:{flex:1.5},children:Object(Qe.jsx)(At,{parentSize:X,isLongSelected:V,amountRate:F,setAmountRate:T})}),Object(Qe.jsx)(q.default,{style:{flex:1.5,flexDirection:"row"},children:Object(Qe.jsx)(q.default,{style:{flex:3,alignItems:"center"},children:V?Object(Qe.jsx)(Ut,{isCandleMoving:S,buttonHandler:K,isBuy:!0}):Object(Qe.jsx)(Ut,{isCandleMoving:S,buttonHandler:Q,isBuy:!1})})})]})};var Yt=function(){var e=Object(z.useRecoilValue)(je);return Object(Qe.jsx)(Xt,{disabled:e.positionActive,activeLeverage:e.positionActive?e.leverage:null})};var Kt=function(){var e=Object(z.useRecoilValue)(fe);return Object(Qe.jsx)(Xt,{disabled:e.positionActive,activeLeverage:e.positionActive?e.leverage:null})};var Qt=function(){var e=Object(z.useRecoilState)($),t=ot()(e,2),o=t[0],n=t[1];return Object(Qe.jsxs)(q.default,{style:E.trade,children:[Object(Qe.jsx)(q.default,{style:{flex:1,backgroundColor:W.colors.backgroundColor1},children:Object(Qe.jsx)(St,{options:[{label:"\ub871",value:!0},{label:"\uc20f",value:!1}],value:o,setValueFunction:n,selectedColor:o?W.colors.longButtonColor:W.colors.shortButtonColor,nonSelectedColor:W.colors.toneDownTextColor})}),Object(Qe.jsx)(q.default,{style:{flex:6,backgroundColor:W.colors.backgroundColor1},children:o?Object(Qe.jsx)(Yt,{}):Object(Qe.jsx)(Kt,{})})]})};var Zt=function(){return Object(Qe.jsxs)(q.default,{style:E.controlPanel,children:[Object(Qe.jsx)(mt,{}),Object(Qe.jsx)(Qt,{})]})};var $t=function(){var e=Object(z.useRecoilValue)(Q),t=Object(z.useRecoilValue)(Z),o=Object(z.useRecoilValue)(ce),n=Object(z.useRecoilValue)(de),i=Object(z.useRecoilValue)(se),r=Object(z.useRecoilState)(re),l=ot()(r,2),c=(l[0],l[1]),s=Object(z.useRecoilState)(ae),a=ot()(s,2),u=(a[0],a[1]),d=Object(z.useRecoilState)(ue),j=ot()(d,2),f=(j[0],j[1]),b=Object(z.useRecoilState)(K),h=ot()(b,2),x=(h[0],h[1]),O=Object(z.useRecoilState)(ie),g=ot()(O,2),v=(g[0],g[1]),m=Object(z.useResetRecoilState)(ie),p=Object(z.useResetRecoilState)(ae),y=Object(z.useResetRecoilState)(ue),C=Object(z.useResetRecoilState)(re),P=Object(z.useResetRecoilState)(K),S=Object(z.useRecoilState)(_),V=ot()(S,2),k=V[0],A=V[1],R=function(){m(),p(),y()},w=function(){P(),R(),c((function(e){return e>1?e-1:1}))};return Object(Qe.jsxs)(q.default,{style:E.rootControlButton,children:[Object(Qe.jsx)(q.default,{style:{flex:1,justifyContent:"flex-start",alignItems:"center"},children:Object(Qe.jsx)(Ht,{onPress:function(){P(),R(),C()},disabled:k,children:Object(Qe.jsx)(Ye,{children:"\ub9ac\uc14b"})})}),Object(Qe.jsx)(q.default,{style:{flex:3.5,justifyContent:"flex-start",alignItems:"center"},children:Object(Qe.jsx)(Gt,{onPress:function(){1==e?i.interest.payAble?(i.interest.cashAble?v(i.interest.cashRemain):i.interest.futureAble?n.isLongActive?u((function(e){var t=Object(nt.cloneDeep)(e);return t.openPositionAmount=t.openPositionAmount-o/t.openPrice,t.openPositionValue=t.openPositionValue-i.interest.futurePayFee,t.currentPositionValue=t.openPositionValue-i.interest.futurePayFee,t})):n.isShortActive&&f((function(e){var t=Object(nt.cloneDeep)(e);return t.openPositionAmount=t.openPositionAmount-o/t.openPrice,t.openPositionValue=t.openPositionValue-i.interest.futurePayFee,t.currentPositionValue=t.openPositionValue-i.interest.futurePayFee,t})):console.error("PayInterest Able, but not Working?"),x((function(e){return e+1})),A(!0)):(alert("\uc774\uc790\ub97c \ub0b4\uc9c0 \ubabb\ud558\uc5ec \ud30c\uc0b0\ud558\uc168\uc2b5\ub2c8\ub2e4.\n \ub808\ubca8\uc774 \ub2e4\uc6b4 \ub429\ub2c8\ub2e4."),w()):1==t?(alert("\ub300\ucd9c\uc744 \uac1a\uc9c0 \ubabb\ud558\uc5ec \ud30c\uc0b0\ud558\uc168\uc2b5\ub2c8\ub2e4.\n \ub808\ubca8\uc774 \ub2e4\uc6b4 \ub429\ub2c8\ub2e4."),w()):(x((function(e){return e+1})),A(!0))},disabled:k,children:Object(Qe.jsx)(Ke,{children:"Next Turn"})})})]})};var _t=Object(H.memo)((function(e){var t=e.label,o=e.color;return Object(Qe.jsx)(q.default,{style:{backgroundColor:o,padding:3,marginRight:5},children:Object(Qe.jsx)(Ce,{children:t})})})),eo=o(392),to=o(449);var oo=Object(H.memo)((function(e){var t=e.progressRate,o=e.targetValue;return Object(Qe.jsxs)(q.default,{style:{width:"70%"},children:[Object(Qe.jsx)(eo.default,{progress:t,color:to.Colors.greenA200}),Object(Qe.jsxs)(q.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[Object(Qe.jsxs)(Pe,{children:[(100*t).toFixed(2),"%"]}),Object(Qe.jsx)(Se,{children:xe(o)})]})]})}));var no=Object(H.memo)((function(e){var t=e.isReadyToLevelUp,o=Object(z.useRecoilState)(re),n=ot()(o,2),i=n[0],r=n[1],l=Object(z.useResetRecoilState)(K),c=Object(z.useResetRecoilState)(ie),s=Object(z.useResetRecoilState)(ae),a=Object(z.useResetRecoilState)(ue);return Object(Qe.jsx)(q.default,{style:{justifyContent:"center",alignItems:"center"},children:Object(Qe.jsx)(Wt,{disabled:!t,onPress:function(){i<7&&(r((function(e){return e+1})),c(),s(),a(),l())},children:Object(Qe.jsx)(Ve,{children:"\uc0c1\ud658"})})})}));var io=Object(H.memo)((function(){var e=Object(z.useRecoilValue)(K),t=Object(z.useRecoilValue)(re),o=Object(z.useRecoilValue)(le),n=Object(z.useRecoilValue)(he),i=Object(z.useRecoilValue)(_),r=Object(H.useState)(n.totalAsset/o.loan),l=ot()(r,2),c=l[0],s=l[1],a=Object(H.useState)(c>=1),u=ot()(a,2),d=u[0],j=u[1];return Object(H.useEffect)((function(){i||s(n.totalAsset/o.loan)}),[i,t,e]),Object(H.useEffect)((function(){j(c>=1)}),[c]),Object(Qe.jsxs)(q.default,{style:E.level,children:[Object(Qe.jsxs)(q.default,{style:{flex:2.7,flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-end"},children:[Object(Qe.jsx)(_t,{label:o.levelName,color:o.color}),Object(Qe.jsx)(oo,{progressRate:c,targetValue:o.loan})]}),Object(Qe.jsx)(q.default,{style:{flex:1,paddingRight:10},children:Object(Qe.jsx)(no,{isReadyToLevelUp:d})})]})})),ro=o(75);var lo=Object(H.memo)((function(e){var t=e.remainTurn,o=e.interestPrice;return Object(Qe.jsxs)(q.default,{style:{flex:1,justifyContent:"space-evenly"},children:[Object(Qe.jsx)(q.default,{style:{alignItems:"flex-start"},children:1==t?Object(Qe.jsx)(Ee,{children:"\ub0b4\uc77c"}):Object(Qe.jsxs)(Ee,{children:["D-",t]})}),Object(Qe.jsxs)(q.default,{children:[Object(Qe.jsx)(We,{children:"\uc774\uc790"}),Object(Qe.jsxs)(Me,{children:[xe(o),"\uc6d0"]})]})]})}));var co=Object(H.memo)((function(e){var t=e.limitTurn,o=e.loanPrice;return Object(Qe.jsxs)(q.default,{style:{flex:1,justifyContent:"space-evenly"},children:[Object(Qe.jsx)(q.default,{style:{alignItems:"flex-start"},children:t>=1?1==t?Object(Qe.jsx)(He,{children:"\ub0b4\uc77c"}):Object(Qe.jsxs)(He,{children:["D-",t]}):Object(Qe.jsx)(He,{})}),Object(Qe.jsxs)(q.default,{style:{marginTop:1},children:[Object(Qe.jsx)(We,{children:"\ub300\ucd9c\uae08"}),Object(Qe.jsx)(Me,{children:o/1e4>=1e4?xe(Math.ceil(o/1e8))+"\uc5b5\uc6d0":xe(Math.ceil(o/1e4))+"\ub9cc\uc6d0"})]})]})}));var so=Object(H.memo)((function(e){var t=e.turnNumber;return Object(Qe.jsx)(q.default,{style:{justifyContent:"flex-start",alignItems:"flex-start"},children:Object(Qe.jsxs)(Ne,{children:[t,"\uc77c\uc9f8"]})})}));var ao=function(){var e=Object(z.useRecoilValue)(K),t=Object(z.useRecoilValue)(le),o=Object(z.useRecoilValue)(ce),n=Object(z.useRecoilValue)(Q),i=Object(z.useRecoilValue)(Z);return Object(Qe.jsxs)(q.default,{style:E.loanInfo,children:[Object(Qe.jsx)(q.default,{style:{flex:1},children:Object(Qe.jsx)(so,{turnNumber:e})}),Object(Qe.jsxs)(q.default,{style:{flex:5},children:[Object(Qe.jsx)(lo,{remainTurn:n,interestPrice:o}),Object(Qe.jsx)(co,{limitTurn:i,loanPrice:t.loan})]})]})},uo=o(757),jo=o(749);var fo=Object(H.memo)((function(e){var t=e.parentSize,o=e.barCashRate,n=e.barFutureRate,i=e.position,r=Object(H.useState)(i?W.colors.positivePriceColor:W.colors.negativePriceColor),l=ot()(r,2),c=l[0],s=l[1];return Object(H.useEffect)((function(){s(i?W.colors.positivePriceColor:W.colors.negativePriceColor)}),[i]),Object(Qe.jsxs)(uo.VictoryStack,{width:t.width||100,height:t.height||100,padding:10,animate:{duration:300},colorScale:[c,"whitesmoke"],children:[Object(Qe.jsx)(jo.default,{data:[{x:"a",y:n}],labels:function(e){var t=e.datum;return Math.ceil(100*t.y)+"%"},style:{labels:{fill:"white",fontSize:14}},labelComponent:Object(Qe.jsx)(ct.VictoryLabel,{dx:24,dy:6}),barWidth:15}),Object(Qe.jsx)(jo.default,{data:[{x:"a",y:o}],barWidth:15})]})}));var bo=Object(H.memo)((function(){return Object(Qe.jsx)(q.default,{style:{justifyContent:"center",alignItems:"center",paddingTop:10},children:Object(Qe.jsx)(Ie,{children:"\ud3ec\uc9c0\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})}));var ho=Object(H.memo)((function(e){var t=e.isLong,o=e.closeHandler;return Object(Qe.jsx)(Mt,{onPress:o,children:Object(Qe.jsx)(qe,{isLong:t,children:"\ud3ec\uc9c0\uc158 \uc885\ub8cc"})})}));var xo=function(e){var t=e.liquidPrice,o=e.openPrice,n=e.isLong;return Object(Qe.jsxs)(q.default,{style:{flexDirection:"row"},children:[Object(Qe.jsxs)(q.default,{style:{flex:1.3},children:[Object(Qe.jsx)(Le,{children:"\uccad\uc0b0\uac00"}),Object(Qe.jsx)(Fe,{isLong:n,children:xe(Number(t.toFixed(2)))})]}),Object(Qe.jsxs)(q.default,{style:{flex:1},children:[Object(Qe.jsx)(Le,{children:"\ud3c9\ub2e8\uac00"}),Object(Qe.jsx)(Te,{children:xe(Number(o.toFixed(2)))})]})]})};var Oo=Object(H.memo)((function(e){var t=e.leverage,o=e.isLong;return Object(Qe.jsx)(q.default,{children:Object(Qe.jsxs)(we,{isLong:o,children:["X",t]})})}));var go=Object(H.memo)((function(e){var t=e.openPositionValue,o=e.currentfutureTotalAsset,n=e.isPositive;return Object(Qe.jsxs)(q.default,{style:{flexDirection:"row"},children:[Object(Qe.jsxs)(q.default,{style:{flex:1.3},children:[Object(Qe.jsx)(Le,{children:"\ucd1d \ub9e4\uc218"}),Object(Qe.jsx)(De,{children:xe(Math.ceil(t))})]}),Object(Qe.jsxs)(q.default,{style:{flex:1},children:[Object(Qe.jsx)(Le,{children:"\ucd1d \ud3c9\uac00"}),Object(Qe.jsx)(Be,{isPositive:n,children:xe(Math.ceil(o))})]})]})}));var vo=Object(H.memo)((function(e){var t=e.unrealizedPnl,o=e.profitRate,n=e.isPositive;return Object(Qe.jsxs)(q.default,{style:{flexDirection:"row",justifyContent:"space-around",alignItems:"center"},children:[Object(Qe.jsxs)(q.default,{style:{flex:1.3},children:[Object(Qe.jsx)(ze,{children:"\ubbf8\uc2e4\ud604 \uc190\uc775"}),Object(Qe.jsxs)(Be,{isPositive:n,children:[xe(Math.ceil(t)),"\uc6d0"," "]})]}),Object(Qe.jsxs)(q.default,{style:{flex:1},children:[Object(Qe.jsx)(ze,{children:"\uc218\uc775\ub960"}),Object(Qe.jsxs)(Be,{isPositive:n,children:[(100*o).toFixed(2),"%"]})]})]})}));var mo=Object(H.memo)((function(e){var t=e.isLong;return Object(Qe.jsx)(q.default,{style:{marginTop:5,marginBottom:5,width:20,height:20,borderRadius:4,overflow:"hidden",alignItems:"center",justifyContent:"center",backgroundColor:t?W.colors.positiveTextColor:W.colors.negativeTextColor},children:Object(Qe.jsx)(Re,{isLong:t,children:t?"\ub871":"\uc20f"})})}));var po=function(e){var t=e.accountDetail,o=e.closeHandler,n=e.isLong;return Object(Qe.jsxs)(q.default,{style:{height:"100%",flexDirection:"column",padding:5},children:[Object(Qe.jsxs)(q.default,{style:{flex:1,flexDirection:"row",paddingRight:10},children:[Object(Qe.jsxs)(q.default,{style:{flex:1,flexDirection:"row",alignItems:"center"},children:[Object(Qe.jsx)(mo,{isLong:n}),Object(Qe.jsx)(Oo,{isLong:n,leverage:t.leverage})]}),Object(Qe.jsx)(q.default,{style:{flex:1},children:Object(Qe.jsx)(ho,{isLong:n,closeHandler:o})})]}),Object(Qe.jsxs)(q.default,{style:{flex:5,justifyContent:"space-evenly"},children:[Object(Qe.jsx)(vo,{unrealizedPnl:t.unrealizedPnl,profitRate:t.profitRate,isPositive:t.isPositive}),Object(Qe.jsx)(go,{openPositionValue:t.openPositionValue,currentfutureTotalAsset:t.totalAsset,isPositive:t.isPositive}),Object(Qe.jsx)(xo,{liquidPrice:t.liquidPrice,openPrice:t.openPrice,isLong:n})]})]})};var yo=Object(H.memo)((function(e){var t=e.accountDetail,o=e.closeHandler,n=e.isLong;return Object(Qe.jsx)(po,{accountDetail:t,closeHandler:o,isLong:n})}));var Co=Object(H.memo)((function(){var e=Object(z.useRecoilValue)(_),t=Object(z.useRecoilValue)(le),o=Object(z.useRecoilState)(ie),n=ot()(o,2),i=(n[0],n[1]),r=Object(z.useRecoilValue)(je),l=Object(z.useResetRecoilState)(ae),c=Object(z.useRecoilValue)(fe),s=Object(z.useResetRecoilState)(ue),a=Object(z.useRecoilValue)(he),u=Object(H.useState)(a.cash/a.totalAsset),d=ot()(u,2),j=d[0],f=d[1],b=Object(H.useState)(a.futureValuation/a.totalAsset),h=ot()(b,2),x=h[0],O=h[1],g=Vt(),v=g.size,m=g.onLayout;return Object(H.useEffect)((function(){e||(f(a.cash/a.totalAsset),O(a.futureValuation/a.totalAsset))}),[e,a]),Object(Qe.jsxs)(q.default,{style:E.positionInfo,children:[Object(Qe.jsx)(q.default,{style:{flex:1,flexDirection:"row"},onLayout:m,children:Object(Qe.jsx)(fo,{parentSize:v,barCashRate:j,barFutureRate:x,position:r.positionActive})}),Object(Qe.jsxs)(q.default,{style:{flex:3.2},children:[r.positionActive?Object(Qe.jsx)(yo,{accountDetail:r,closeHandler:function(){e||(i((function(e){return e+r.totalAsset*(1-t.transactionFeeRate*r.leverage/100)})),l())},isLong:!0}):null,c.positionActive?Object(Qe.jsx)(yo,{accountDetail:c,closeHandler:function(){e||(i((function(e){return e+c.totalAsset*(1-t.transactionFeeRate*c.leverage/100)})),s())},isLong:!1}):null,r.positionActive||c.positionActive?null:Object(Qe.jsx)(bo,{})]})]})}));var Po=function(){return Object(Qe.jsx)(q.default,{style:E.Info,children:Object(Qe.jsxs)(ro.default,{horizontal:!0,alwaysBounceHorizontal:!1,bounces:!1,children:[Object(Qe.jsx)(Co,{}),Object(Qe.jsx)(ao,{})]})})};var So=function(){return Object(Qe.jsx)(Qe.Fragment,{children:Object(Qe.jsxs)(q.default,{style:E.display,children:[Object(Qe.jsx)($e,{}),Object(Qe.jsx)(io,{}),Object(Qe.jsx)(vt,{}),Object(Qe.jsx)(Ze,{}),Object(Qe.jsx)(Po,{}),Object(Qe.jsx)(Zt,{}),Object(Qe.jsx)($t,{})]})})};function Vo(){return Object(Qe.jsx)(z.RecoilRoot,{children:Object(Qe.jsxs)(B.ThemeProvider,{theme:W,children:[Object(Qe.jsx)(So,{}),Object(Qe.jsx)(T.StatusBar,{style:"light"})]})})}},458:function(e,t,o){e.exports=o(733)}},[[458,1,2]]]);
//# sourceMappingURL=app.e8933799.chunk.js.map