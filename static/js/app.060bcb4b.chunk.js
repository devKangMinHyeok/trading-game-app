(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{409:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return Rt}));var n,i,l,r,c,s,a,u,d,j,f,b,h,x,O,g,v,p,m,y,C,P,A=o(14),w=o(31),L=o(4),S=o(44),V=o(12),k={colors:{backgroundColor1:"#161A1E",backgroundColor2:"#1e2227ff",backgroundColor3:"#303030ff",baseTextColor:"#FFFFFF",toneDownTextColor:"#bebebe",positiveTextColor:"#32D993",negativeTextColor:"#F6465D",longButtonColor:"#32D993",longCandleColor:"#0ECB81",positivePriceColor:"#13B074",shortButtonColor:"#F6465D",shortCandleColor:"#F6465D",negativePriceColor:"#F6465D",longLiquidActiveLineColor:"#2be6ff",longLiquidInactiveLineColor:"#2be6ff8e",shortLiquidActiveLineColor:"#ee32ff",shortLiquidInactiveLineColor:"#ee32ff8c",openPriceLineColor:"#ffc56e",CloseButtonBackgroundColor:"#ffffff",nextTurnButtonBackgroundColor:"#6c17ff",resetButtonBackgroundColor:"#ff1616"},font:{bigValueFontSize:"16px",midiumValueFontSize:"14px",smallValueFontSize:"12px",bigRateFontSize:"14px",bigTextFontSize:"16px",midiumTextFontSize:"14px",smallTextFontSize:"12px",boldFontWeight:600,regularFontWeight:500,lightFontWeight:400}},D=S.default.get("window").width,R=V.default.create({display:{flex:1,backgroundColor:"#fff"},topAccount:{flexDirection:"row",flex:.5,gap:5,justifyContent:"center",alignItems:"flex-end",backgroundColor:k.colors.backgroundColor1},chart:{flex:1.6,justifyContent:"center",overflow:"hidden",backgroundColor:k.colors.backgroundColor1},middleAccount:{flex:.3,flexDirection:"row",justifyContent:"space-around",alignItems:"center",backgroundColor:k.colors.backgroundColor2},positionInfo:{flex:1.3,flexDirection:"row",justifyContent:"space-around",backgroundColor:k.colors.backgroundColor2},controlPanel:{flex:1.6,backgroundColor:"pink",flexDirection:"row"},trade:{flex:7.5,backgroundColor:"grey"},shop:{flex:2.5,justifyContent:"center",alignItems:"center",backgroundColor:k.colors.backgroundColor1},rootControlButton:{flex:1,backgroundColor:k.colors.backgroundColor2,flexDirection:"row"}}),T=o(1),z=new Date(2022,0,1),F=[{label:"x1",value:1},{label:"x2",value:2},{label:"x3",value:3},{label:"x5",value:5},{label:"x10",value:10},{label:"x25",value:25},{label:"x50",value:50}],q=[{x:z,open:100,close:110,high:120,low:90},{x:new Date(2022,0,2),open:110,close:130,high:130,low:100},{x:new Date(2022,0,3),open:130,close:100,high:140,low:90},{x:new Date(2022,0,4),open:100,close:125,high:150,low:100},{x:new Date(2022,0,5),open:125,close:150,high:170,low:120},{x:new Date(2022,0,6),open:150,close:130,high:160,low:120},{x:new Date(2022,0,7),open:130,close:180,high:200,low:100},{x:new Date(2022,0,8),open:180,close:200,high:200,low:160},{x:new Date(2022,0,9),open:200,close:160,high:210,low:150},{x:new Date(2022,0,10),open:160,close:150,high:200,low:150},{x:new Date(2022,0,11),open:150,close:120,high:160,low:110},{x:new Date(2022,0,12),open:120,close:130,high:140,low:110},{x:new Date(2022,0,13),open:130,close:160,high:180,low:130},{x:new Date(2022,0,14),open:160,close:180,high:200,low:150},{x:new Date(2022,0,15),open:180,close:150,high:180,low:140}],B=Object(A.atom)({key:"candleDataState",default:q}),W=Object(A.atom)({key:"turnNumberState",default:1}),I=Object(A.atom)({key:"isLongControllerActiveState",default:!0}),M=Object(A.atom)({key:"isCandleMovingState",default:!1}),E=Object(A.atom)({key:"lastClosePriceState",default:150}),H=Object(A.atom)({key:"lastOpenPriceState",default:180}),N=(Object(A.atom)({key:"lastHighPriceState",default:180}),Object(A.atom)({key:"lastLowPriceState",default:140}),Object(A.atom)({key:"longLiquidState",default:0})),J=Object(A.atom)({key:"shortLiquidState",default:0}),X=Object(A.atom)({key:"accountState",default:1e6}),U=Object(A.atom)({key:"longAccountState",default:{positionActive:!1,openPrice:0,liquidPrice:0,leverage:1,openPositionAmount:0,openPositionValue:0,currentPositionValue:0}}),Y=Object(A.atom)({key:"shortAccountState",default:{positionActive:!1,openPrice:0,liquidPrice:0,leverage:1,openPositionAmount:0,openPositionValue:0,currentPositionValue:0}}),G=Object(A.selector)({key:"longAccountDetailState",get:function(e){var t=(0,e.get)(U),o=t.leverage*(t.currentPositionValue-t.openPositionValue);return{positionActive:t.positionActive,openPrice:t.openPrice,liquidPrice:t.liquidPrice,leverage:t.leverage,openPositionAmount:t.openPositionAmount,openPositionValue:t.openPositionValue,currentPositionValue:t.currentPositionValue,unrealizedPnl:o,profitRate:o/t.openPositionValue,totalAsset:o+t.openPositionValue,isPositive:o>0?"positive":o<0?"negative":"zero"}}}),K=Object(A.selector)({key:"shortAccountDetailState",get:function(e){var t=(0,e.get)(Y),o=t.leverage*(t.openPositionValue-t.currentPositionValue);return{positionActive:t.positionActive,openPrice:t.openPrice,liquidPrice:t.liquidPrice,leverage:t.leverage,openPositionAmount:t.openPositionAmount,openPositionValue:t.openPositionValue,currentPositionValue:t.currentPositionValue,unrealizedPnl:o,profitRate:o/t.openPositionValue,totalAsset:o+t.openPositionValue,isPositive:o>0?"positive":o<0?"negative":"zero"}}}),Q=Object(A.selector)({key:"futureAccountState",get:function(e){var t=e.get,o=t(G),n=t(K),i=o.openPositionValue+n.openPositionValue,l=o.currentPositionValue+n.currentPositionValue,r=o.unrealizedPnl+n.unrealizedPnl;return{positionActive:o.positionActive||n.positionActive,openPositionValue:i,currentPositionValue:l,unrealizedPnl:r,profitRate:r/i,totalAsset:r+i,isPositive:r>0?"positive":r<0?"negative":"zero"}}}),Z=Object(A.selector)({key:"totalAccountState",get:function(e){var t=e.get,o=t(X),n=t(Q),i=n.openPositionValue+o,l=o+n.totalAsset,r=l-i,c=l-1e6;return{cash:o,futureValuation:n.totalAsset,totalAsset:l,unrealizedPnl:r,profitRate:r/i,isPositive:c>0?"positive":c<0?"negative":"zero"}}}),$=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},_=o(34),ee=o.n(_),te=w.default.Text(n||(n=ee()(["\n  color: ",";\n"])),(function(e){return e.theme.colors.baseTextColor})),oe=Object(w.default)(te)(i||(i=ee()(["\n  font-size: ",";\n"])),(function(e){return e.theme.font.midiumTextFontSize})),ne=Object(w.default)(te)(l||(l=ee()(["\n  font-size: ",";\n  color: ",";\n"])),(function(e){return e.theme.font.bigValueFontSize}),(function(e){return"positive"==e.isPositive?e.theme.colors.positiveTextColor:"negative"==e.isPositive?e.theme.colors.negativeTextColor:e.theme.colors.baseTextColor})),ie=Object(w.default)(te)(r||(r=ee()(["\n  font-size: ",";\n  color: ",";\n"])),(function(e){return e.theme.font.bigRateFontSize}),(function(e){return"positive"==e.isPositive?e.theme.colors.positiveTextColor:"negative"==e.isPositive?e.theme.colors.negativeTextColor:e.theme.colors.baseTextColor})),le=Object(w.default)(te)(c||(c=ee()(["\n  color: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.colors.toneDownTextColor}),(function(e){return e.theme.font.smallTextFontSize})),re=Object(w.default)(te)(s||(s=ee()(["\n  color: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.colors.baseTextColor}),(function(e){return e.theme.font.bigValueFontSize})),ce=Object(w.default)(te)(a||(a=ee()(["\n  background-color: ",";\n  font-size: ",";\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.isLong?e.theme.colors.positiveTextColor:e.theme.colors.negativeTextColor}),(function(e){return e.theme.font.midiumTextFontSize})),se=Object(w.default)(te)(u||(u=ee()(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  margin-left: 5px;\n"])),(function(e){return e.isLong?e.theme.colors.positiveTextColor:e.theme.colors.negativeTextColor}),(function(e){return e.theme.font.bigValueFontSize}),(function(e){return e.theme.font.boldFontWeight})),ae=Object(w.default)(te)(d||(d=ee()(["\n  color: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.colors.toneDownTextColor}),(function(e){return e.theme.font.smallTextFontSize})),ue=Object(w.default)(te)(j||(j=ee()(["\n  font-size: ",";\n"])),(function(e){return e.theme.font.midiumValueFontSize})),de=Object(w.default)(ue)(f||(f=ee()(["\n  color: ",";\n"])),(function(e){return e.isLong?e.theme.colors.longLiquidActiveLineColor:e.theme.colors.shortLiquidActiveLineColor})),je=Object(w.default)(ue)(b||(b=ee()(["\n  color: ",";\n"])),(function(e){return e.theme.colors.openPriceLineColor})),fe=Object(w.default)(ae)(h||(h=ee()([""]))),be=Object(w.default)(ue)(x||(x=ee()(["\n  color: ",";\n"])),(function(e){return"positive"==e.isPositive?e.theme.colors.positiveTextColor:"negative"==e.isPositive?e.theme.colors.negativeTextColor:e.theme.colors.baseTextColor})),he=Object(w.default)(te)(O||(O=ee()(["\n  color: ",";\n  font-weight: ",";\n"])),(function(e){return e.isLong?e.theme.colors.positiveTextColor:e.theme.colors.negativeTextColor}),(function(e){return e.theme.font.boldFontWeight})),xe=Object(w.default)(te)(g||(g=ee()(["\n  font-weight: ",";\n"])),(function(e){return e.theme.font.boldFontWeight})),Oe=Object(w.default)(te)(v||(v=ee()(["\n  font-size: ",";\n  color: ",";\n"])),(function(e){return e.theme.font.smallTextFontSize}),(function(e){return e.theme.colors.toneDownTextColor})),ge=Object(w.default)(te)(p||(p=ee()(["\n  font-size: ",";\n"])),(function(e){return e.theme.font.midiumValueFontSize})),ve=Object(w.default)(ge)(m||(m=ee()(["\n  color: ",";\n"])),(function(e){return e.isLong?e.theme.colors.longLiquidActiveLineColor:e.theme.colors.shortLiquidActiveLineColor})),pe=Object(w.default)(te)(y||(y=ee()(["\n  /* color: ","; */\n  font-weight: ",";\n"])),(function(e){return e.isLong?e.theme.colors.positiveTextColor:e.theme.colors.negativeTextColor}),(function(e){return e.theme.font.boldFontWeight})),me=Object(w.default)(te)(C||(C=ee()(["\n  font-size: ",";\n  font-weight: ",";\n"])),(function(e){return e.theme.font.bigTextFontSize}),(function(e){return e.theme.font.boldFontWeight})),ye=Object(w.default)(te)(P||(P=ee()(["\n  font-size: ",";\n  font-weight: ",";\n"])),(function(e){return e.theme.font.bigTextFontSize}),(function(e){return e.theme.font.boldFontWeight})),Ce=o(2);var Pe=Object(T.memo)((function(){var e=Object(A.useRecoilValue)(Z);return Object(Ce.jsxs)(L.default,{style:R.middleAccount,children:[Object(Ce.jsxs)(L.default,{style:{flex:1,padding:10},children:[Object(Ce.jsx)(le,{children:"\uc120\ubb3c "}),Object(Ce.jsxs)(re,{children:[$(Math.ceil(e.futureValuation)),"\uc6d0"]})]}),Object(Ce.jsxs)(L.default,{style:{flex:1,padding:10},children:[Object(Ce.jsx)(le,{children:"\ud604\uae08 "}),Object(Ce.jsxs)(re,{children:[$(Math.ceil(e.cash)),"\uc6d0"]})]})]})}));var Ae=Object(T.memo)((function(){var e=Object(A.useRecoilValue)(Z);return Object(Ce.jsxs)(L.default,{style:R.topAccount,children:[Object(Ce.jsx)(L.default,{style:{flex:1,alignItems:"flex-end"},children:Object(Ce.jsx)(oe,{children:"\ucd1d \ubcf4\uc720\uc790\uc0b0 | "})}),Object(Ce.jsxs)(L.default,{style:{flex:2.3,flexDirection:"row",alignItems:"flex-end"},children:[Object(Ce.jsxs)(ne,{isPositive:e.isPositive,children:[$(Math.ceil(e.totalAsset)),"\uc6d0"," "]}),Object(Ce.jsxs)(ie,{isPositive:e.isPositive,children:[((e.totalAsset-1e6)/1e6*100).toFixed(2),"%"]})]})]})})),we=o(92),Le=o.n(we),Se=o(28),Ve=o.n(Se),ke=o(76),De=o(698),Re=o(694),Te=o(699),ze=o(701),Fe=o(412),qe=o(702),Be=function(e,t){var o=new Date(e);return o.setDate(o.getDate()+t),o},We=function(e,t,o){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.05,i={x:e,open:t,high:t,low:t,close:t},l=[i],r=0;r<o;r++){var c=Object(ke.cloneDeep)(i),s=c.close*Object(ke.random)(1-n,1+n,!0),a=c.high<s?s:c.high,u=c.low>s?s:c.low;c.close=s,c.high=a,c.low=u,i=c,l.push(c)}return l},Ie={fontSize:9,fill:k.colors.baseTextColor};var Me=function(){var e=Object(A.useRecoilValue)(W),t=Object(A.useRecoilState)(B),o=Ve()(t,2),n=o[0],i=o[1],l=Object(A.useRecoilState)(M),r=Ve()(l,2),c=(r[0],r[1]),s=Object(A.useRecoilState)(E),a=Ve()(s,2),u=a[0],d=a[1],j=Object(A.useRecoilState)(H),f=Ve()(j,2),b=f[0],h=f[1],x=Object(A.useRecoilState)(U),O=Ve()(x,2),g=(O[0],O[1]),v=Object(A.useRecoilState)(Y),p=Ve()(v,2),m=(p[0],p[1]),y=Object(A.useRecoilValue)(G),C=Object(A.useRecoilValue)(K),P=Object(A.useResetRecoilState)(U),w=Object(A.useResetRecoilState)(Y),S=Object(A.useRecoilState)(N),V=Ve()(S,2),R=V[0],z=(V[1],Object(A.useRecoilState)(J)),F=Ve()(z,2),q=F[0],I=(F[1],Object(T.useState)([new Date(2022,0,1),new Date(2022,0,15)])),X=Ve()(I,2),Q=X[0],Z=X[1],$=Object(T.useState)([75,195]),_=Ve()($,2),ee=_[0],te=_[1],oe=Object(T.useCallback)((function(e,t,o){return setTimeout((function(){i((function(t){var o=Le()(t);return o.slice(-1)[0].x.toString()==e.x.toString()?o[o.length-1]=e:(o.push(e),o.length>25&&o.shift()),o})),d(e.close),y.positionActive&&(g((function(t){var o=Object(ke.cloneDeep)(t);return o.currentPositionValue=e.close*o.openPositionAmount,o})),y.liquidPrice>=e.low&&P()),C.positionActive&&(m((function(t){var o=Object(ke.cloneDeep)(t);return o.currentPositionValue=e.close*o.openPositionAmount,o})),C.liquidPrice<=e.high&&w()),t===o&&c(!1)}),200*t)}),[y,C]);return Object(T.useEffect)((function(){if(e>1){var t=[],o=n.slice(-1)[0].x,i=Be(new Date(o),1),l=n.slice(-1)[0].close,r=We(i,l,20);h(r[0].open);for(var c=0;c<r.length;c++){var s=r[c];t.push(oe(s,c,r.length-1))}return function(){t.forEach((function(e){return clearTimeout(e)}))}}}),[e]),Object(T.useEffect)((function(){var e=n.slice(-25),t=e[0].x,o=new Date(t);o.setDate(t.getDate()+25),Z([t,o]);var i=1e10,l=0;e.forEach((function(e){e.low<i&&(i=e.low),e.high>l&&(l=e.high)})),te([i-15,l+15])}),[n]),Object(Ce.jsx)(L.default,{children:Object(Ce.jsxs)(De.VictoryChart,{width:D,domainPadding:{x:15},containerComponent:Object(Ce.jsx)(Re.VictoryCursorContainer,{cursorLabel:function(e){var t=e.datum;return"     price :   "+Object(ke.round)(t.y,1)},style:{fill:"white"}}),style:{parent:{backgroundColor:"transparent"},background:{fill:k.colors.backgroundColor1}},children:[Object(Ce.jsx)(Te.VictoryAxis,{dependentAxis:!0,offsetX:50,orientation:"right",style:{grid:{stroke:"#b6b6b6",strokeWidth:.5},tickLabels:{fill:k.colors.baseTextColor,fontSize:14}}}),Object(Ce.jsx)(ze.default,{candleWidth:8,style:{data:{strokeWidth:1,stroke:function(e){return e.close<e.open?k.colors.longCandleColor:k.colors.shortCandleColor}}},candleColors:{positive:k.colors.longCandleColor,negative:k.colors.shortCandleColor},data:n,domain:{x:Q,y:ee}}),Object(Ce.jsx)(Fe.VictoryLabel,{text:Math.ceil(u),datum:{x:Be(new Date(Q[1]),1),y:u+5},textAnchor:"end",style:Ie}),Object(Ce.jsx)(qe.VictoryLine,{domain:{x:Q,y:ee},y:function(){return u},style:{data:{stroke:function(e){return u>b?k.colors.longCandleColor:k.colors.shortCandleColor},strokeWidth:1.5,strokeDasharray:1}}}),y.positionActive?Object(Ce.jsx)(Fe.VictoryLabel,{text:"\uccad\uc0b0\uac00",datum:{x:Be(new Date(Q[0]),-2),y:y.liquidPrice},textAnchor:"end",style:Ie}):Object(Ce.jsx)(Fe.VictoryLabel,{text:"\uccad\uc0b0\uac00",datum:{x:Be(new Date(Q[0]),-2),y:R},textAnchor:"end",style:Ie}),y.positionActive?Object(Ce.jsx)(qe.VictoryLine,{domain:{x:Q,y:ee},y:function(){return y.liquidPrice},style:{data:{stroke:k.colors.longLiquidActiveLineColor,strokeWidth:1.5}}}):Object(Ce.jsx)(qe.VictoryLine,{domain:{x:Q,y:ee},y:function(){return R},style:{data:{stroke:k.colors.longLiquidInactiveLineColor,strokeWidth:1.5}}}),C.positionActive?Object(Ce.jsx)(Fe.VictoryLabel,{text:"\uccad\uc0b0\uac00",datum:{x:Be(new Date(Q[0]),-2),y:C.liquidPrice},textAnchor:"end",style:Ie}):Object(Ce.jsx)(Fe.VictoryLabel,{text:"\uccad\uc0b0\uac00",datum:{x:Be(new Date(Q[0]),-2),y:q},textAnchor:"end",style:Ie}),C.positionActive?Object(Ce.jsx)(qe.VictoryLine,{domain:{x:Q,y:ee},y:function(){return C.liquidPrice},style:{data:{stroke:k.colors.shortLiquidActiveLineColor,strokeWidth:1.5}}}):Object(Ce.jsx)(qe.VictoryLine,{domain:{x:Q,y:ee},y:function(){return q},style:{data:{stroke:k.colors.shortLiquidInactiveLineColor,strokeWidth:1.5}}}),y.positionActive?Object(Ce.jsx)(Fe.VictoryLabel,{text:"\ud3c9\ub2e8\uac00",datum:{x:Be(new Date(Q[0]),-2),y:y.openPrice},textAnchor:"end",style:Ie}):null,y.positionActive?Object(Ce.jsx)(qe.VictoryLine,{domain:{x:Q,y:ee},y:function(){return y.openPrice},style:{data:{stroke:k.colors.openPriceLineColor,strokeWidth:1.5,strokeDasharray:1.5}}}):null,C.positionActive?Object(Ce.jsx)(Fe.VictoryLabel,{text:"\ud3c9\ub2e8\uac00",datum:{x:Be(new Date(Q[0]),-2),y:C.openPrice},textAnchor:"end",style:Ie}):null,C.positionActive?Object(Ce.jsx)(qe.VictoryLine,{domain:{x:Q,y:ee},y:function(){return C.openPrice},style:{data:{stroke:k.colors.openPriceLineColor,strokeWidth:1.5,strokeDasharray:1.5}}}):null]})})};var Ee=function(){return Object(Ce.jsx)(L.default,{style:R.chart,children:Object(Ce.jsx)(Me,{})})},He=function(){var e=Object(T.useState)({width:0,height:0,x:0,y:0}),t=Ve()(e,2),o=t[0],n=t[1];return{size:o,onLayout:Object(T.useCallback)((function(e){var t=e.nativeEvent.layout,o=t.width,i=t.height,l=t.x,r=t.y;n({width:o,height:i,x:l,y:r})}),[])}},Ne=o(703),Je=o(696);var Xe=Object(T.memo)((function(e){var t=e.parentSize,o=e.barCashRate,n=e.barFutureRate,i=e.position,l=Object(T.useState)(i?k.colors.positivePriceColor:k.colors.negativePriceColor),r=Ve()(l,2),c=r[0],s=r[1];return Object(T.useEffect)((function(){s(i?k.colors.positivePriceColor:k.colors.negativePriceColor)}),[i]),Object(Ce.jsxs)(Ne.VictoryStack,{width:t.width||100,height:t.height||100,padding:10,animate:{duration:300},colorScale:[c,"whitesmoke"],children:[Object(Ce.jsx)(Je.default,{data:[{x:"a",y:n}],labels:function(e){var t=e.datum;return Math.ceil(100*t.y)+"%"},style:{labels:{fill:"white"}},labelComponent:Object(Ce.jsx)(Fe.VictoryLabel,{dx:25,dy:8}),barWidth:15}),Object(Ce.jsx)(Je.default,{data:[{x:"a",y:o}],barWidth:15})]})}));var Ue,Ye,Ge,Ke,Qe,Ze=Object(T.memo)((function(){return Object(Ce.jsx)(L.default,{style:{justifyContent:"center",alignItems:"center",paddingTop:10},children:Object(Ce.jsx)(xe,{children:"\ud3ec\uc9c0\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})})),$e=w.default.TouchableOpacity(Ue||(Ue=ee()(["\n  background-color: ",";\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n"])),(function(e){return e.theme.colors.CloseButtonBackgroundColor})),_e=Object(w.default)($e)(Ye||(Ye=ee()(["\n  width: 100%;\n  height: 100%;\n"]))),et=Object(w.default)($e)(Ge||(Ge=ee()(["\n  background-color: ",";\n  width: 80%;\n  height: 90%;\n"])),(function(e){return e.isLong?e.theme.colors.longButtonColor:e.theme.colors.shortButtonColor})),tt=Object(w.default)($e)(Ke||(Ke=ee()(["\n  background-color: ",";\n  width: 80%;\n  height: 40%;\n"])),(function(e){return e.theme.colors.resetButtonBackgroundColor})),ot=Object(w.default)($e)(Qe||(Qe=ee()(["\n  background-color: ",";\n  width: 80%;\n  height: 40%;\n"])),(function(e){return e.theme.colors.nextTurnButtonBackgroundColor}));var nt=Object(T.memo)((function(e){var t=e.isLong,o=e.closeHandler;return Object(Ce.jsx)(_e,{onPress:o,children:Object(Ce.jsx)(he,{isLong:t,children:"\ud3ec\uc9c0\uc158 \uc885\ub8cc"})})}));var it=function(e){var t=e.liquidPrice,o=e.openPrice,n=e.isLong;return Object(Ce.jsxs)(L.default,{style:{flexDirection:"row"},children:[Object(Ce.jsxs)(L.default,{style:{flex:1.3},children:[Object(Ce.jsx)(ae,{children:"\uccad\uc0b0\uac00"}),Object(Ce.jsx)(de,{isLong:n,children:$(Number(t.toFixed(2)))})]}),Object(Ce.jsxs)(L.default,{style:{flex:1},children:[Object(Ce.jsx)(ae,{children:"\ud3c9\ub2e8\uac00"}),Object(Ce.jsx)(je,{children:$(Number(o.toFixed(2)))})]})]})};var lt=Object(T.memo)((function(e){var t=e.leverage,o=e.isLong;return Object(Ce.jsx)(L.default,{children:Object(Ce.jsxs)(se,{isLong:o,children:["X",t]})})}));var rt=Object(T.memo)((function(e){var t=e.openPositionValue,o=e.currentfutureTotalAsset,n=e.isPositive;return Object(Ce.jsxs)(L.default,{style:{flexDirection:"row"},children:[Object(Ce.jsxs)(L.default,{style:{flex:1.3},children:[Object(Ce.jsx)(ae,{children:"\ucd1d \ub9e4\uc218"}),Object(Ce.jsx)(ue,{children:$(Math.ceil(t))})]}),Object(Ce.jsxs)(L.default,{style:{flex:1},children:[Object(Ce.jsx)(ae,{children:"\ucd1d \ud3c9\uac00"}),Object(Ce.jsx)(be,{isPositive:n,children:$(Math.ceil(o))})]})]})}));var ct=Object(T.memo)((function(e){var t=e.unrealizedPnl,o=e.profitRate,n=e.isPositive;return Object(Ce.jsxs)(L.default,{style:{flexDirection:"row",justifyContent:"space-around",alignItems:"center"},children:[Object(Ce.jsxs)(L.default,{style:{flex:1.3},children:[Object(Ce.jsx)(fe,{children:"\ubbf8\uc2e4\ud604 \uc190\uc775"}),Object(Ce.jsxs)(be,{isPositive:n,children:[$(Math.ceil(t)),"\uc6d0"," "]})]}),Object(Ce.jsxs)(L.default,{style:{flex:1},children:[Object(Ce.jsx)(fe,{children:"\uc218\uc775\ub960"}),Object(Ce.jsxs)(be,{isPositive:n,children:[(100*o).toFixed(2),"%"]})]})]})}));var st=Object(T.memo)((function(e){var t=e.isLong;return Object(Ce.jsx)(L.default,{style:{marginTop:5,marginBottom:5,width:20,height:20,borderRadius:4,overflow:"hidden",alignItems:"center",justifyContent:"center",backgroundColor:t?k.colors.positiveTextColor:k.colors.negativeTextColor},children:Object(Ce.jsx)(ce,{isLong:t,children:t?"\ub871":"\uc20f"})})}));var at=function(e){var t=e.accountDetail,o=e.closeHandler,n=e.isLong;return Object(Ce.jsxs)(L.default,{style:{height:"100%",flexDirection:"column",padding:5},children:[Object(Ce.jsxs)(L.default,{style:{flex:1,flexDirection:"row",paddingRight:10},children:[Object(Ce.jsxs)(L.default,{style:{flex:1,flexDirection:"row",alignItems:"center"},children:[Object(Ce.jsx)(st,{isLong:n}),Object(Ce.jsx)(lt,{isLong:n,leverage:t.leverage})]}),Object(Ce.jsx)(L.default,{style:{flex:1},children:Object(Ce.jsx)(nt,{isLong:n,closeHandler:o})})]}),Object(Ce.jsxs)(L.default,{style:{flex:5,justifyContent:"space-evenly"},children:[Object(Ce.jsx)(ct,{unrealizedPnl:t.unrealizedPnl,profitRate:t.profitRate,isPositive:t.isPositive}),Object(Ce.jsx)(rt,{openPositionValue:t.openPositionValue,currentfutureTotalAsset:t.totalAsset,isPositive:t.isPositive}),Object(Ce.jsx)(it,{liquidPrice:t.liquidPrice,openPrice:t.openPrice,isLong:n})]})]})};var ut=Object(T.memo)((function(e){var t=e.accountDetail,o=e.closeHandler,n=e.isLong;return Object(Ce.jsx)(at,{accountDetail:t,closeHandler:o,isLong:n})}));var dt=Object(T.memo)((function(){var e=Object(A.useRecoilValue)(M),t=Object(A.useRecoilState)(X),o=Ve()(t,2),n=(o[0],o[1]),i=Object(A.useRecoilValue)(G),l=Object(A.useResetRecoilState)(U),r=Object(A.useRecoilValue)(K),c=Object(A.useResetRecoilState)(Y),s=Object(A.useRecoilValue)(Z),a=Object(T.useState)(s.cash/s.totalAsset),u=Ve()(a,2),d=u[0],j=u[1],f=Object(T.useState)(s.futureValuation/s.totalAsset),b=Ve()(f,2),h=b[0],x=b[1],O=He(),g=O.size,v=O.onLayout;return Object(T.useEffect)((function(){e||(j(s.cash/s.totalAsset),x(s.futureValuation/s.totalAsset))}),[e,s]),Object(Ce.jsxs)(L.default,{style:R.positionInfo,children:[Object(Ce.jsx)(L.default,{style:{flex:1},onLayout:v,children:Object(Ce.jsx)(Xe,{parentSize:g,barCashRate:d,barFutureRate:h,position:i.positionActive})}),Object(Ce.jsxs)(L.default,{style:{flex:2.5},children:[i.positionActive?Object(Ce.jsx)(ut,{accountDetail:i,closeHandler:function(){e||(n((function(e){return e+i.totalAsset})),l())},isLong:!0}):null,r.positionActive?Object(Ce.jsx)(ut,{accountDetail:r,closeHandler:function(){e||(n((function(e){return e+r.totalAsset})),c())},isLong:!1}):null,i.positionActive||r.positionActive?null:Object(Ce.jsx)(Ze,{})]})]})}));var jt=function(){return Object(Ce.jsx)(L.default,{style:R.shop,children:Object(Ce.jsx)(te,{children:"Shop"})})},ft=o(59),bt=o(104),ht=function(e,t,o,n,i){return V.default.create({container:{backgroundColor:"transparent",width:"100%",height:"100%",flexDirection:"row",opacity:e?.5:1},box:{flex:1,padding:5,backgroundColor:"transprent",borderWidth:1,borderStyle:"solid",borderColor:t===i?o:n,alignItems:"center"}})},xt=function(e,t,o,n,i){return V.default.create({text:{color:t===i?o:n}})};var Ot=Object(T.memo)((function(e){var t=e.options,o=e.value,n=e.setValueFunction,i=e.disabled,l=e.selectedColor,r=void 0===l?"#32D993":l,c=e.nonSelectedColor,s=void 0===c?"#bebebe":c;return Object(Ce.jsx)(L.default,{style:ht(i).container,children:t.map((function(e,t){return Object(Ce.jsx)(bt.default,{onPress:function(t){return o=e.value,void n(o);var o},style:ht(i,o,r,s,e.value).box,disabled:i,children:Object(Ce.jsx)(ft.default,{style:xt(0,o,r,s,e.value).text,children:e.label})},t)}))})})),gt=o(410),vt=o(81);var pt=Object(T.memo)((function(e){var t=e.parentSize,o=e.isLongSelected,n=e.amountRate,i=e.setAmountRate;return Object(Ce.jsx)(L.default,{children:Object(Ce.jsxs)(vt.default,{scrollEnabled:!1,style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(Ce.jsx)(gt.default,{sliderLength:.8*t.width||200,values:[n],onValuesChange:function(e){i(e[0])},min:0,max:101,step:5,snapped:!1,markerStyle:{width:20,height:20,backgroundColor:o?k.colors.longButtonColor:k.colors.shortButtonColor},selectedStyle:{backgroundColor:o?k.colors.longButtonColor:k.colors.shortButtonColor},trackStyle:{backgroundColor:k.colors.toneDownTextColor}}),Object(Ce.jsxs)(Oe,{children:[" ",n,"%"]})]})})}));var mt=Object(T.memo)((function(e){var t=e.isLongSelected,o=e.activeLeverage,n=e.leverage,i=e.setLeverage,l=e.disabled;return Object(Ce.jsx)(L.default,{style:{width:"100%",height:"100%"},children:Object(Ce.jsx)(L.default,{style:{marginTop:10},children:Object(Ce.jsx)(Ot,{options:F,value:o||n,setValueFunction:i,disabled:l,selectedColor:t?k.colors.longButtonColor:k.colors.shortButtonColor,nonSelectedColor:k.colors.toneDownTextColor})})})}));var yt=Object(T.memo)((function(e){var t=e.isLongSelected,o=e.longLiquid,n=e.shortLiquid;return Object(Ce.jsxs)(L.default,{style:{flex:1},children:[Object(Ce.jsx)(Oe,{children:"\uccad\uc0b0\uac00"}),Object(Ce.jsx)(ve,{isLong:t,children:$(t?Math.ceil(o):Math.ceil(n))})]})}));var Ct=Object(T.memo)((function(e){var t=e.totalPrice,o=e.coinAmount;return Object(Ce.jsxs)(L.default,{style:{flex:2},children:[Object(Ce.jsxs)(L.default,{style:{flex:1},children:[Object(Ce.jsx)(Oe,{children:"\uc8fc\ubb38\ucd1d\uc561"}),Object(Ce.jsxs)(ge,{children:[$(Math.ceil(t)),"\uc6d0"]})]}),Object(Ce.jsxs)(L.default,{style:{flex:1},children:[Object(Ce.jsx)(Oe,{children:"\uac1c\uc218"}),Object(Ce.jsx)(ge,{children:$(o)})]})]})}));var Pt=Object(T.memo)((function(e){var t=e.isCandleMoving,o=e.buttonHandler,n=e.isBuy;return Object(Ce.jsx)(et,{isLong:n,onPress:o,disabled:t,children:Object(Ce.jsx)(pe,{isLong:n,children:n?"BUY / \ub871":"Sell / \uc20f"})})}));var At=function(e){var t=e.disabled,o=e.activeLeverage,n=Object(A.useRecoilState)(X),i=Ve()(n,2),l=i[0],r=i[1],c=Object(A.useRecoilState)(N),s=Ve()(c,2),a=s[0],u=s[1],d=Object(A.useRecoilState)(J),j=Ve()(d,2),f=j[0],b=j[1],h=Object(A.useRecoilValue)(E),x=Object(A.useRecoilState)(U),O=Ve()(x,2),g=(O[0],O[1]),v=Object(A.useRecoilState)(Y),p=Ve()(v,2),m=(p[0],p[1]),y=Object(A.useRecoilValue)(G),C=Object(A.useRecoilValue)(K),P=Object(A.useRecoilValue)(M),w=Object(A.useRecoilValue)(I),S=Object(T.useState)(1),V=Ve()(S,2),k=V[0],D=V[1],R=Object(T.useState)(0),z=Ve()(R,2),F=z[0],q=z[1],B=Object(T.useState)(0),W=Ve()(B,2),H=W[0],Q=W[1],Z=Object(T.useState)(0),$=Ve()(Z,2),_=$[0],ee=$[1],te=He(),oe=te.size,ne=te.onLayout,ie=Object(T.useCallback)((function(){if(w&&!P){if(r((function(e){return e-H})),C.positionActive)alert("Long \ud3ec\uc9c0\uc158\uacfc Short \ud3ec\uc9c0\uc158\uc744 \ub3d9\uc2dc\uc5d0 \ubcf4\uc720\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");else if(!y.positionActive&&_>0){g({positionActive:!0,openPrice:h,liquidPrice:a,leverage:k,openPositionValue:h*_,openPositionAmount:_,currentPositionValue:h*_})}else y.positionActive&&_>0?g((function(e){var t=Object(ke.cloneDeep)(e),o=h*_;return t.openPrice=(t.openPrice*t.openPositionAmount+o)/(t.openPositionAmount+_),t.openPositionAmount=t.openPositionAmount+_,t.openPositionValue=t.openPositionValue+o,t.currentPositionValue=t.currentPositionValue+o,t.liquidPrice=t.openPrice*(1-1/t.leverage),t})):0===_&&alert("0\uac1c\ub294 \uc8fc\ubb38\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");q(0)}}),[w,P,y,H,_]),le=Object(T.useCallback)((function(){if(!w&&!P){if(r((function(e){return e-H})),y.positionActive)alert("Long \ud3ec\uc9c0\uc158\uacfc Short \ud3ec\uc9c0\uc158\uc744 \ub3d9\uc2dc\uc5d0 \ubcf4\uc720\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");else if(!C.positionActive&&_>0){m({positionActive:!0,openPrice:h,liquidPrice:f,leverage:k,openPositionValue:h*_,openPositionAmount:_,currentPositionValue:h*_})}else C.positionActive&&_>0?m((function(e){var t=Object(ke.cloneDeep)(e),o=h*_;return t.openPrice=(t.openPrice*t.openPositionAmount+o)/(t.openPositionAmount+_),t.openPositionAmount=t.openPositionAmount+_,t.openPositionValue=t.openPositionValue+o,t.currentPositionValue=t.currentPositionValue+o,t.liquidPrice=t.openPrice*(1+1/t.leverage),t})):0===_&&alert("0\uac1c\ub294 \uc8fc\ubb38\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");q(0)}}),[w,P,C,H,_]);return Object(T.useEffect)((function(){var e=l*F/100,t=Math.floor(e/(h*(1+4e-4*k)));ee(t)}),[F,k]),Object(T.useEffect)((function(){Q(h*_*(1+4e-4*k))}),[h,_]),Object(T.useEffect)((function(){return P?(u(0),b(0)):w?u(h*(1-1/k)):b(h*(1+1/k)),function(){u(0),b(0)}}),[h,k,P,w]),Object(T.useEffect)((function(){P&&q(0)}),[P]),Object(Ce.jsxs)(L.default,{style:{height:"100%",width:"100%"},onLayout:ne,children:[Object(Ce.jsx)(L.default,{style:{flex:1},children:Object(Ce.jsx)(mt,{isLongSelected:w,activeLeverage:o,leverage:k,setLeverage:D,disabled:t})}),Object(Ce.jsx)(L.default,{style:{flex:1},children:Object(Ce.jsx)(pt,{parentSize:oe,isLongSelected:w,amountRate:F,setAmountRate:q})}),Object(Ce.jsxs)(L.default,{style:{flex:2,flexDirection:"row"},children:[Object(Ce.jsx)(Ct,{totalPrice:H,coinAmount:_}),Object(Ce.jsx)(yt,{isLongSelected:w,longLiquid:a,shortLiquid:f})]}),Object(Ce.jsx)(L.default,{style:{flex:1,alignItems:"center"},children:w?Object(Ce.jsx)(Pt,{isCandleMoving:P,buttonHandler:ie,isBuy:!0}):Object(Ce.jsx)(Pt,{isCandleMoving:P,buttonHandler:le,isBuy:!1})})]})};var wt=function(){var e=Object(A.useRecoilValue)(G);return Object(Ce.jsx)(At,{disabled:e.positionActive,activeLeverage:e.positionActive?e.leverage:null})};var Lt=function(){var e=Object(A.useRecoilValue)(K);return Object(Ce.jsx)(At,{disabled:e.positionActive,activeLeverage:e.positionActive?e.leverage:null})};var St=function(){var e=Object(A.useRecoilState)(I),t=Ve()(e,2),o=t[0],n=t[1];return Object(Ce.jsxs)(L.default,{style:R.trade,children:[Object(Ce.jsx)(L.default,{style:{flex:1,backgroundColor:k.colors.backgroundColor1},children:Object(Ce.jsx)(Ot,{options:[{label:"\ub871",value:!0},{label:"\uc20f",value:!1}],value:o,setValueFunction:n,selectedColor:o?k.colors.longButtonColor:k.colors.shortButtonColor,nonSelectedColor:k.colors.toneDownTextColor})}),Object(Ce.jsx)(L.default,{style:{flex:7,backgroundColor:k.colors.backgroundColor1},children:o?Object(Ce.jsx)(wt,{}):Object(Ce.jsx)(Lt,{})})]})};var Vt=function(){return Object(Ce.jsxs)(L.default,{style:R.controlPanel,children:[Object(Ce.jsx)(jt,{}),Object(Ce.jsx)(St,{})]})};var kt=function(){var e=Object(A.useRecoilState)(W),t=Ve()(e,2),o=(t[0],t[1]),n=Object(A.useResetRecoilState)(X),i=Object(A.useResetRecoilState)(U),l=Object(A.useResetRecoilState)(Y),r=Object(A.useRecoilState)(M),c=Ve()(r,2),s=c[0],a=c[1];return Object(Ce.jsxs)(L.default,{style:R.rootControlButton,children:[Object(Ce.jsx)(L.default,{style:{flex:1,justifyContent:"flex-start",alignItems:"center"},children:Object(Ce.jsx)(tt,{onPress:function(){n(),i(),l()},disabled:s,children:Object(Ce.jsx)(me,{children:"\ub9ac\uc14b"})})}),Object(Ce.jsx)(L.default,{style:{flex:3.5,justifyContent:"flex-start",alignItems:"center"},children:Object(Ce.jsx)(ot,{onPress:function(){a(!0),o((function(e){return e+1}))},disabled:s,children:Object(Ce.jsx)(ye,{children:"Next Turn"})})})]})};var Dt=function(){return Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsxs)(L.default,{style:R.display,children:[Object(Ce.jsx)(Ae,{}),Object(Ce.jsx)(Ee,{}),Object(Ce.jsx)(Pe,{}),Object(Ce.jsx)(dt,{}),Object(Ce.jsx)(Vt,{}),Object(Ce.jsx)(kt,{})]})})};function Rt(){return Object(Ce.jsx)(A.RecoilRoot,{children:Object(Ce.jsx)(w.ThemeProvider,{theme:k,children:Object(Ce.jsx)(Dt,{})})})}},416:function(e,t,o){e.exports=o(681)}},[[416,1,2]]]);
//# sourceMappingURL=app.060bcb4b.chunk.js.map